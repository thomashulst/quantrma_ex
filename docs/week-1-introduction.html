<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 1 Week 1: Introduction | Quantitative Research Methods &amp; Analysis: Exercises</title>
  <meta name="description" content="The exercises related to the introductory textbook for quantitative research methods and data analysis at EUC. This text was adapted from “Answering questions with data: Labe Manual” by Matthew J.C. Crump and colleagues (https://crumplab.github.io/statistics/)" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content=" 1 Week 1: Introduction | Quantitative Research Methods &amp; Analysis: Exercises" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The exercises related to the introductory textbook for quantitative research methods and data analysis at EUC. This text was adapted from “Answering questions with data: Labe Manual” by Matthew J.C. Crump and colleagues (https://crumplab.github.io/statistics/)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 1 Week 1: Introduction | Quantitative Research Methods &amp; Analysis: Exercises" />
  
  <meta name="twitter:description" content="The exercises related to the introductory textbook for quantitative research methods and data analysis at EUC. This text was adapted from “Answering questions with data: Labe Manual” by Matthew J.C. Crump and colleagues (https://crumplab.github.io/statistics/)" />
  

<meta name="author" content="Matthew J. C. Crump, Anjali Krishnan, Stephen Volz, and Alla Chavarga" />
<meta name="author" content="Adapted for use at EUC by Thomas Hulst and Thanos Kostopoulos" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>
<link rel="next" href="week-2-describing-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>



<link rel="stylesheet" href="tufte.css" type="text/css" />
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QuantRMA Exercises</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#important-notes"><i class="fa fa-check"></i><b>0.1</b> Important notes</a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#attributions"><i class="fa fa-check"></i><b>0.1.1</b> Attributions</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#cc-by-sa-4.0-license"><i class="fa fa-check"></i><b>0.1.2</b> CC BY-SA 4.0 license</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i>Getting started</a><ul>
<li class="chapter" data-level="0.2" data-path="getting-started.html"><a href="getting-started.html#why-r"><i class="fa fa-check"></i><b>0.2</b> Why R?</a></li>
<li class="chapter" data-level="0.3" data-path="getting-started.html"><a href="getting-started.html#installing-r-and-r-studio"><i class="fa fa-check"></i><b>0.3</b> Installing R and R Studio</a></li>
<li class="chapter" data-level="0.4" data-path="getting-started.html"><a href="getting-started.html#r-studio-notes-and-tips"><i class="fa fa-check"></i><b>0.4</b> R Studio notes and tips</a><ul>
<li class="chapter" data-level="0.4.1" data-path="getting-started.html"><a href="getting-started.html#console"><i class="fa fa-check"></i><b>0.4.1</b> Console</a></li>
<li class="chapter" data-level="0.4.2" data-path="getting-started.html"><a href="getting-started.html#script-editor"><i class="fa fa-check"></i><b>0.4.2</b> Script Editor</a></li>
<li class="chapter" data-level="0.4.3" data-path="getting-started.html"><a href="getting-started.html#workspace-and-history"><i class="fa fa-check"></i><b>0.4.3</b> Workspace and History</a></li>
<li class="chapter" data-level="0.4.4" data-path="getting-started.html"><a href="getting-started.html#file-plot-packages-help"><i class="fa fa-check"></i><b>0.4.4</b> File, Plot, Packages, Help</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="getting-started.html"><a href="getting-started.html#how-to-complete-the-tutorials"><i class="fa fa-check"></i><b>0.5</b> How to complete the tutorials</a><ul>
<li class="chapter" data-level="0.5.1" data-path="getting-started.html"><a href="getting-started.html#r-projects"><i class="fa fa-check"></i><b>0.5.1</b> R projects</a></li>
<li class="chapter" data-level="0.5.2" data-path="getting-started.html"><a href="getting-started.html#installing-libraries"><i class="fa fa-check"></i><b>0.5.2</b> Installing libraries</a></li>
<li class="chapter" data-level="0.5.3" data-path="getting-started.html"><a href="getting-started.html#quick-install"><i class="fa fa-check"></i><b>0.5.3</b> Quick install</a></li>
<li class="chapter" data-level="0.5.4" data-path="getting-started.html"><a href="getting-started.html#r-markdown"><i class="fa fa-check"></i><b>0.5.4</b> R Markdown</a></li>
<li class="chapter" data-level="0.5.5" data-path="getting-started.html"><a href="getting-started.html#r-markdown-tutorial-templates"><i class="fa fa-check"></i><b>0.5.5</b> R Markdown tutorial templates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="week-1-introduction.html"><a href="week-1-introduction.html"><i class="fa fa-check"></i><b>1</b> Week 1: Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="week-1-introduction.html"><a href="week-1-introduction.html#part-one-research-methods"><i class="fa fa-check"></i><b>1.1</b> Part one: Research methods</a></li>
<li class="chapter" data-level="1.2" data-path="week-1-introduction.html"><a href="week-1-introduction.html#part-two-graphing-data"><i class="fa fa-check"></i><b>1.2</b> Part two: Graphing data</a><ul>
<li class="chapter" data-level="1.2.1" data-path="week-1-introduction.html"><a href="week-1-introduction.html#important-info"><i class="fa fa-check"></i><b>1.2.1</b> Important info</a></li>
<li class="chapter" data-level="1.2.2" data-path="week-1-introduction.html"><a href="week-1-introduction.html#lets-get-started"><i class="fa fa-check"></i><b>1.2.2</b> Let’s get started!</a></li>
<li class="chapter" data-level="1.2.3" data-path="week-1-introduction.html"><a href="week-1-introduction.html#generate-some-data"><i class="fa fa-check"></i><b>1.2.3</b> Generate some data</a></li>
<li class="chapter" data-level="1.2.4" data-path="week-1-introduction.html"><a href="week-1-introduction.html#look-at-the-data"><i class="fa fa-check"></i><b>1.2.4</b> Look at the data</a></li>
<li class="chapter" data-level="1.2.5" data-path="week-1-introduction.html"><a href="week-1-introduction.html#make-plots-to-answer-questions"><i class="fa fa-check"></i><b>1.2.5</b> Make plots to answer questions</a></li>
<li class="chapter" data-level="1.2.6" data-path="week-1-introduction.html"><a href="week-1-introduction.html#ggplot2-basics"><i class="fa fa-check"></i><b>1.2.6</b> ggplot2 basics</a></li>
<li class="chapter" data-level="1.2.7" data-path="week-1-introduction.html"><a href="week-1-introduction.html#more-questions-about-nyc-films"><i class="fa fa-check"></i><b>1.2.7</b> More questions about NYC films</a></li>
<li class="chapter" data-level="1.2.8" data-path="week-1-introduction.html"><a href="week-1-introduction.html#gapminder-data"><i class="fa fa-check"></i><b>1.2.8</b> Gapminder Data</a></li>
<li class="chapter" data-level="1.2.9" data-path="week-1-introduction.html"><a href="week-1-introduction.html#asking-questions-with-the-gap-minder-data"><i class="fa fa-check"></i><b>1.2.9</b> Asking Questions with the gap minder data</a></li>
<li class="chapter" data-level="1.2.10" data-path="week-1-introduction.html"><a href="week-1-introduction.html#generalization-exercise"><i class="fa fa-check"></i><b>1.2.10</b> Generalization Exercise</a></li>
<li class="chapter" data-level="1.2.11" data-path="week-1-introduction.html"><a href="week-1-introduction.html#writing-assignment"><i class="fa fa-check"></i><b>1.2.11</b> Writing assignment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html"><i class="fa fa-check"></i><b>2</b> Week 2: Describing Data</a><ul>
<li class="chapter" data-level="2.1" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#general-goals"><i class="fa fa-check"></i><b>2.1</b> General Goals</a><ul>
<li class="chapter" data-level="2.1.1" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#important-info-1"><i class="fa fa-check"></i><b>2.1.1</b> Important info</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#r"><i class="fa fa-check"></i><b>2.2</b> R</a><ul>
<li class="chapter" data-level="2.2.1" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#descriptives-basics-in-r"><i class="fa fa-check"></i><b>2.2.1</b> Descriptives basics in R</a></li>
<li class="chapter" data-level="2.2.2" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#central-tendency"><i class="fa fa-check"></i><b>2.2.2</b> Central Tendency</a></li>
<li class="chapter" data-level="2.2.3" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#variation"><i class="fa fa-check"></i><b>2.2.3</b> Variation</a></li>
<li class="chapter" data-level="2.2.4" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#descriptives-by-conditions"><i class="fa fa-check"></i><b>2.2.4</b> Descriptives by conditions</a></li>
<li class="chapter" data-level="2.2.5" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#describing-gapminder"><i class="fa fa-check"></i><b>2.2.5</b> Describing gapminder</a></li>
<li class="chapter" data-level="2.2.6" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#generalization-exercise-1"><i class="fa fa-check"></i><b>2.2.6</b> Generalization Exercise</a></li>
<li class="chapter" data-level="2.2.7" data-path="week-2-describing-data.html"><a href="week-2-describing-data.html#writing-assignment-1"><i class="fa fa-check"></i><b>2.2.7</b> Writing assignment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html"><i class="fa fa-check"></i><b>3</b> Week 3: Correlation and Causation</a><ul>
<li class="chapter" data-level="3.1" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#general-goals-1"><i class="fa fa-check"></i><b>3.1</b> General Goals</a><ul>
<li class="chapter" data-level="3.1.1" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#important-info-2"><i class="fa fa-check"></i><b>3.1.1</b> Important Info</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#r-1"><i class="fa fa-check"></i><b>3.2</b> R</a><ul>
<li class="chapter" data-level="3.2.1" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#cor-for-correlation"><i class="fa fa-check"></i><b>3.2.1</b> cor for correlation</a></li>
<li class="chapter" data-level="3.2.2" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#world-happiness-report"><i class="fa fa-check"></i><b>3.2.2</b> World Happiness Report</a></li>
<li class="chapter" data-level="3.2.3" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#generalization-exercise-2"><i class="fa fa-check"></i><b>3.2.3</b> Generalization Exercise</a></li>
<li class="chapter" data-level="3.2.4" data-path="week-3-correlation-and-causation.html"><a href="week-3-correlation-and-causation.html#writing-assignment-2"><i class="fa fa-check"></i><b>3.2.4</b> Writing assignment</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Research Methods &amp; Analysis: Exercises</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-1-introduction" class="section level1">
<h1><span class="header-section-number"> 1</span> Week 1: Introduction</h1>
<p>This first tutorial consists of two parts. In the first part we will work on several exercises related to the readings about research methods. In the second part you will learn how to graph data using R. This tutorial assumes you have read the required readings of [Week1] (<a href="https://thomashulst.github.io/quantrma/Introduction.html" class="uri">https://thomashulst.github.io/quantrma/Introduction.html</a>) and completed the <a href="https://thomashulst.github.io/quantrma_ex/getting-started.html">Getting started</a> guide. You will be completing each tutorial by writing your notes and code in an R Markdown document. You should have setup your files as described in the <a href="https://thomashulst.github.io/quantrma_ex/getting-started.html">Getting started section</a>. At the end of this tutorial you will upload the document with your answers to Canvas.</p>
<div id="part-one-research-methods" class="section level2">
<h2><span class="header-section-number">1.1</span> Part one: Research methods</h2>
</div>
<div id="part-two-graphing-data" class="section level2">
<h2><span class="header-section-number">1.2</span> Part two: Graphing data</h2>
<p><span class="newthought">
The commonality between science and art is in trying to see profoundly - to develop strategies of seeing and showing.
—Edward Tufte
</span></p>
<p>As we have found out from the textbook and lecture, when we measure things, we get lots of numbers. Too many numbers. Sometimes so many your head explodes just thinking about them. One of <strong>the most helpful things</strong> you can do to begin to make sense of these numbers, is to look at them in graphical form. Unfortunately, for sight-impaired individuals, graphical summary of data is much more well-developed than other forms of summarizing data for our human senses. Some researchers are developing auditory versions of visual graphs, a process called <strong>sonification</strong>, but we aren’t prepared to demonstrate that here. Instead, we will make charts, and plots, and things to look at, rather than the numbers themselves, mainly because these are tools that are easiest to get our hands on, they are the most developed, and they work really well for visual summary. If time permits, at some point I would like to come back here and do the same things with sonification. I think that would be really, really cool!</p>
<p>During this part of the tutorial we’ll do these things in R:</p>
<ol style="list-style-type: decimal">
<li>Load some data in R</li>
<li>Talk a little bit about how the data is structured</li>
<li>Make graphs of the data so we can look at it and make sense of it</li>
</ol>
<div id="important-info" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Important info</h3>
<ol style="list-style-type: decimal">
<li><p>Data for NYC film permits was obtained from the NYC open data website. The .csv file can be found here: <a href="https://raw.githubusercontent.com/CrumpLab/statisticsLab/master/data/Film_Permits.csv" download>Film_Permits.csv</a></p></li>
<li><p>Gapminder data from the gapminder project (copied from the R gapminder library) can be downloaded in .csv format here: <a href="https://raw.githubusercontent.com/CrumpLab/statisticsLab/master/data/gapminder.csv" download>gapminder.csv</a></p></li>
</ol>
</div>
<div id="lets-get-started" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Let’s get started!</h3>
<p>To get started with the R part of this tutorial, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>copy the template file for lab 1, “Tutorial01_Graphing_StudentNumber.Rmd”, and place it into the “RMarkdownsTutorials” folder (i.e. copy it out of the template folder, and into the RMarkdownsTutorials folder).</li>
<li>Rename the file to add your own student number, eg., “Tutorial01_Graphing_311476”</li>
<li>double-click the “RMarkdownsTutorials.Rproj” file</li>
<li>R Studio will now load up.</li>
<li>If you click the files tab, you will see all of the files and folders inside the “RMarkdownsTutorials” folder</li>
<li>Click on your Tutorial01 .rmd file and it will now load into the editor window.</li>
</ol>
<p>When we made this course, we assumed that most students would be unfamiliar with R and R Studio, and might even be frightened of it. Don’t worry. It’s going to be way easier than you think. We know that it will seem challenging at first. But, we think that with lots of working examples, you will get the hang of it, and by the end of the course you will be able to do things you might never have dreamed you can do. It’s really a fantastic skill to learn, even if you aren’t planning on going on to do research. With that, let’s begin.</p>
</div>
<div id="generate-some-data" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Generate some data</h3>
<p>In order to graph data, we need to have some data first…Actually, with R, that’s not quite true. Run this bit of code and see what happens:</p>
<p><img src="quantrma_ex_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>You just made R sample 100 numbers, and then plot the results in a histogram. Pretty neat. We’ll be doing some of this later in the course, where get R to make fake data for us, and then we learn to think about how data behaves under different kinds of assumptions.</p>
<p>For now, let’s do something that might be a little bit more interesting… let’s figure out what movies are going to be filmed in NYC. It turns out that NYC makes a lot of data about a lot things open and free for anyone to download and look at. This is the NYC Open Data website: <a href="https://opendata.cityofnewyork.us">https://opendata.cityofnewyork.us</a>. I searched through the data, and found a data file that lists the locations of film permits for shooting movies all throughout the Burroughs. There are multiple ways to load this data into R.</p>
<ol style="list-style-type: decimal">
<li><p>If you have downloaded the <a href="">RMarkdownsTutorials.zip</a> file, then you already have the data file in the data folder. Assuming you are working in your main directory (your .rmd file is saved in the main folder that contains both the data and template folders), then use the following commands to load the data.</p></li>
<li><p>If the above method doesn’t work, you can try loading the data from the course website using:</p></li>
</ol>
<p>If you are having issues getting the data loaded, talk to your tutor.</p>
</div>
<div id="look-at-the-data" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Look at the data</h3>
<p>You will be downloading and analyzing all kinds of data files this quad. We will follow the very same steps every time. The steps are to load the data, then look at it. You want to see what you’ve got.</p>
<p>In R Studio, you will now see a variable called <code>nyc_films</code> in the top right-hand corner of the screen, in the environment tab. If you click this thing, it will show you the contents of the data in a new window. The data is stored in something we call a <code>data frame</code>. It’s R lingo, for the thing that contains the data. Notice it is shaped like a rectangle, with rows going across, and columns going up and down. It looks kind of like an excel spreadsheet if you are familiar with Excel.</p>
<p>It’s useful to know you can look at the data frame this way if you need to. But, this data frame is really big, it has 50,728 rows of data. That’s a lot too much to look at.</p>
<div id="summarytools" class="section level4">
<h4><span class="header-section-number">1.2.4.1</span> summarytools</h4>
<p>The summarytools package gives a quick way to summarize all of the data in a data frame. Here’s how. When you run this code you will see the summary in the viewer on the bottom right hand side. There’s a little browser button (arrow on top of little window) that you can click to expand and see the whole thing in a browser.</p>
<p><span class="newthought">
On some MacOS versions, the summarytools package might require XQuartz to properly display your data summary. If you receive an error running the R code, try installing <a href="xquartz.macosforge.org">XQuartz</a>
</span></p>
<p>That is super helpful, but it’s still a lot to look at. Because there is so much data here, it’s pretty much mind-boggling to start thinking about what to do with it.</p>
</div>
</div>
<div id="make-plots-to-answer-questions" class="section level3">
<h3><span class="header-section-number">1.2.5</span> Make plots to answer questions</h3>
<p>Let’s walk through a couple questions we might have about this data. We can see that there were 50,728 film permits made. We can also see that there are different columns telling us information about each of the film permits. For example, the <code>Borough</code> column lists the Borough for each request, whether it was made for: Manhattan, Brooklyn, Bronx, Queen’s, or Staten Island. Now we can ask our first question, and learn how to do some plotting in R.</p>
<div id="where-are-the-most-film-permits-being-requested" class="section level4">
<h4><span class="header-section-number">1.2.5.1</span> Where are the most film permits being requested?</h4>
<p>Do you have any guesses? Is it Manhattan, or Brooklyn, of the Bronx? Or Queen’s or Staten Island? We can find out by plotting the data using a bar plot. We just need to count how many film permits are made in each borough, and then make different bars represent the the counts.</p>
<p>First, we do the counting in R. Run the following code.</p>
<p>The above grouped the data by each of the five Borough’s, and then counted the number of times each Borough occurred (using the <code>length</code> function). The result is a new variable called <code>count</code>. I chose to name this variable <code>count</code>. You can see that it is now displayed in the top-right hand corned in the environment tab. If you gave <code>count</code> a different name, like <code>muppets</code>, then it would be named what you called it.</p>
<p>If you click on the <code>counts</code> variable, you will see the five boroughs listed, along with the counts for how many film permits were requested in each Borough. These are the numbers that we want to plot in a graph.</p>
<p>We do the plot using a fantastic package called <code>ggplot2</code>. It is very powerful once you get the hand of it, and when you do, you will be able to make all sorts of interesting graphs. Here’s the code to make the plot</p>
<p><img src="quantrma_ex_files/figure-html/1borough-1.png" width="672" /></p>
<p>There it is, we’re done here! We can easily look at this graph, and answer our question. Most of the film permits were requested in Manhattan, followed by Brooklyn, then Queen’s, the Bronx, and finally Staten Island.</p>
</div>
<div id="what-kind-of-films-are-being-made-what-is-the-category" class="section level4">
<h4><span class="header-section-number">1.2.5.2</span> What kind of “films” are being made, what is the category?</h4>
<p>We think you might be skeptical of what you are doing here, copying and pasting things. Soon you’ll see just how fast you can do things by copying and pasting, and make a few little changes. Let’s quickly ask another question about what kinds of films are being made. The column <code>Category</code>, gives us some information about that. Let’s just copy paste the code we already made, and see what kinds of categories the films fall into. See if you can tell what I changed in the code to make this work, I’ll do it all at once:</p>
<p><img src="quantrma_ex_files/figure-html/1category-1.png" width="672" /></p>
<p>OK, so this figure might look a bit weird because the labels on the bottom are running into each other. We’ll fix that in a bit. First, let’s notice the changes.</p>
<ol style="list-style-type: decimal">
<li><p>I changed <code>Borough</code> to <code>Category</code>. That was the main thing</p></li>
<li><p>I left out a bunch of things from before. None of the <code>library()</code> commands are used again, and I didn’t re-run the very early code to get the data. R already has those things in it’s memory, so we don’t need to do that first. If you ever clear the memory of R, then you will need to reload those things.</p></li>
</ol>
<p>Fine, so how do we fix the graph? Good question. You probably have no idea how to do this, but googling your questions is a great way to learn R. It’s what everybody does.</p>
<p>When you Google this question, you will likely find a lot of ways to fix your graph. The trick I used is to add the last line in the R code below. I just copy-pasted it from the solution I found on <a href="https://stackoverflow.com/questions/1330989/rotating-and-spacing-axis-labels-in-ggplot2">stack overflow</a> (you will become friend’s with stack overflow, there are many solutions there to all of your questions)</p>
<p><img src="quantrma_ex_files/figure-html/1categoryB-1.png" width="672" /></p>
</div>
</div>
<div id="ggplot2-basics" class="section level3">
<h3><span class="header-section-number">1.2.6</span> ggplot2 basics</h3>
<p>Before we go further, I want to point out some basic properties of ggplot2, just to give you a sense of how it is working. This will make more sense in a few weeks, so come back here to remind yourself. We’ll do just a bit a basics, and then move on to making more graphs, by copying and pasting.</p>
<p>The ggplot function makes use of so-called layers. Layers you say? What are these layers? Well, it draws things from the bottom up. It lays down one layer of graphics, then you can keep adding on top, drawing more things. So the idea is something like: Layer 1 + Layer 2 + Layer 3, and so on. If you want Layer 3 to be Layer 2, then you just switch them in the code.</p>
<p>Here is a way of thinking about ggplot code</p>
<pre><code>ggplot(name_of_data, aes(x = name_of_x_variable, y = name_of_y_variable)) +
    geom_layer()+
    geom_layer()+
    geom_layer()
</code></pre>
<p>What I want you to focus on in the above description is the <span class="math inline">\(+\)</span> signs. What we are doing with the plus signs is adding layers to plot. The layers get added in the order that they are written. If you look back to our previous code, you will see we add a <code>geom_bar</code> layer, then we added another layer to change the rotation of the words on the x-axis. This is how it works.</p>
<p>BUT WAIT? How am I supposed to know and remember what to add? This is nuts! We know. You’re not supposed to know just yet, how could you? We’ll give you lots of examples where you can copy and paste, and they will work. That’s how you’ll learn for now. If you really want to read the <a href="https://ggplot2.tidyverse.org/reference/index.html">help manual</a> you can do that too. It’s on the ggplot2 website. This will become useful after you already know what you are doing, but before that, it will probably just seem very confusing. However, it is pretty neat to look and <a href="https://exts.ggplot2.tidyverse.org/gallery/">see all of the different things you can do</a>, it’s very powerful.</p>
<p>For now, let’s the get the hang of adding things to the graph that let us change some stuff we might want to change. For example, how do you add a title? Or change the labels on the axes? Or add different colors, or change the font-size, or change the background? You can change all of these things by adding different lines to the existing code.</p>
<div id="ylab-changes-y-label" class="section level4">
<h4><span class="header-section-number">1.2.6.1</span> ylab() changes y label</h4>
<p>The last graph had <code>count_of_permits</code> as the label on the y-axis. That doesn’t look right. ggplot2 automatically took the label from the column, and made it be the name on the y-axis. We can change that by adding <code>ylab("what we want")</code>. We do this by adding a <span class="math inline">\(+\)</span> to the last line, then adding <code>ylab()</code></p>
<p><img src="quantrma_ex_files/figure-html/1categoryC-1.png" width="672" /></p>
</div>
<div id="xlab-changes-x-label" class="section level4">
<h4><span class="header-section-number">1.2.6.2</span> xlab() changes x label</h4>
<p>Let’s slightly modify the x label too:</p>
<p><img src="quantrma_ex_files/figure-html/1categoryD-1.png" width="672" /></p>
</div>
<div id="ggtitle-adds-title" class="section level4">
<h4><span class="header-section-number">1.2.6.3</span> ggtitle() adds title</h4>
<p>Let’s give our graph a title</p>
<p><img src="quantrma_ex_files/figure-html/1categoryE-1.png" width="672" /></p>
</div>
<div id="color-adds-color" class="section level4">
<h4><span class="header-section-number">1.2.6.4</span> color adds color</h4>
<p>Let’s make the bars different colors. To do this, we add new code to the inside of the <code>aes()</code> part:</p>
<p><img src="quantrma_ex_files/figure-html/1categoryF-1.png" width="672" /></p>
</div>
<div id="fill-fills-in-color" class="section level4">
<h4><span class="header-section-number">1.2.6.5</span> fill fills in color</h4>
<p>Let’s make the bars different colors. To do this, we add new code to the inside of the <code>aes()</code> part…Notice I’ve started using new lines to make the code more readable.</p>
<p><img src="quantrma_ex_files/figure-html/1categoryG-1.png" width="672" /></p>
</div>
<div id="get-rid-of-the-legend" class="section level4">
<h4><span class="header-section-number">1.2.6.6</span> get rid of the legend</h4>
<p>Sometimes you just don’t want the legend on the side, to remove it add</p>
<p><code>theme(legend.position="none")</code></p>
<p><img src="quantrma_ex_files/figure-html/1categoryH-1.png" width="672" /></p>
</div>
<div id="theme_classic-makes-white-background" class="section level4">
<h4><span class="header-section-number">1.2.6.7</span> theme_classic() makes white background</h4>
<p>The rest is often just visual preference. For example, the graph above has this grey grid behind the bars. For a clean classic no nonsense look, use <code>theme_classic()</code> to take away the grid.</p>
<p><img src="quantrma_ex_files/figure-html/1categoryI-1.png" width="672" /></p>
</div>
<div id="sometimes-layer-order-matters" class="section level4">
<h4><span class="header-section-number">1.2.6.8</span> Sometimes layer order matters</h4>
<p>Interesting, <code>theme_classic()</code> is misbehaving a little bit and incorrectly renders the axis labels and reintroduces the legend. It looks like we have some of our layers out of order, let’s re-order. I just moved <code>theme_classic()</code> to just underneath the <code>geom_bar()</code> line. Now everything get’s drawn properly.</p>
<p><img src="quantrma_ex_files/figure-html/1categoryJ-1.png" width="672" /></p>
</div>
<div id="font-size" class="section level4">
<h4><span class="header-section-number">1.2.6.9</span> Font-size</h4>
<p>Changing font-size is often something you want to do. ggplot2 can do this in different ways. I suggest using the <code>base_size</code> option inside <code>theme_classic()</code>. You set one number for the largest font size in the graph, and everything else gets scaled to fit with that that first number. It’s really convenient. Look for the inside of <code>theme_classic()</code></p>
<p><img src="quantrma_ex_files/figure-html/1categoryK-1.png" width="672" />
or make things small… just to see what happens</p>
<p><img src="quantrma_ex_files/figure-html/1categoryL-1.png" width="672" /></p>
</div>
<div id="ggplot2-summary" class="section level4">
<h4><span class="header-section-number">1.2.6.10</span> ggplot2 summary</h4>
<p>That’s enough of the ggplot2 basics for now. You will discover that many things are possible with ggplot2. It is amazing. We are going to get back to answering some questions about the data with graphs. But, now that we have built the code to make the graphs, all we need to do is copy-paste, and make a few small changes, and boom, we have our graph.</p>
</div>
</div>
<div id="more-questions-about-nyc-films" class="section level3">
<h3><span class="header-section-number">1.2.7</span> More questions about NYC films</h3>
<div id="what-are-the-sub-categories-of-films" class="section level4">
<h4><span class="header-section-number">1.2.7.1</span> What are the sub-categories of films?</h4>
<p>Notice the <code>nyc_films</code> data frame also has a column for <code>SubCategoryName</code>. Let’s see what’s going on there with a quick plot.</p>
<p><img src="quantrma_ex_files/figure-html/1subcategory-1.png" width="672" /></p>
<p>I guess “episodic series” are the most common. Using a graph like this gave us our answer super fast.</p>
</div>
<div id="categories-by-different-boroughs" class="section level4">
<h4><span class="header-section-number">1.2.7.2</span> Categories by different Boroughs</h4>
<p>Let’s see one more really useful thing about ggplot2. It’s called <code>facet_wrap()</code>. It’s an ugly word, but you will see that it is very cool, and you can do next-level-super-hero graph styles with <code>facet_wrap</code> that other people can’t do very easily.</p>
<p>Here’s our question. We know that some films are made in different Boroughs, and that same films are made in different categories, but do different Boroughs have different patterns for the kinds of categories of films they request permits for? Are their more TV shows in Brooklyn? How do we find out? Watch, just like this:</p>
<p><img src="quantrma_ex_files/figure-html/1facetwrap-1.png" width="672" /></p>
<p>We did two important things. First we added <code>Borough</code> and <code>Category</code> into the <code>group_by()</code> function. This automatically gives separate counts for each category of film, for each Borough. Then we added <code>facet_wrap(~Borough, ncol=3)</code> to the end of the plot, and it automatically drew us 5 different bar graphs, one for each Borough! That was fast. Imagine doing that by hand.</p>
<p>The nice thing about this is we can switch things around if we want. For example, we could do it this way by switching the <code>Category</code> with <code>Borough</code>, and facet-wrapping by Category instead of Borough like we did above. Do what works for you.</p>
<p><img src="quantrma_ex_files/figure-html/1facetwrap2-1.png" width="672" /></p>
</div>
</div>
<div id="gapminder-data" class="section level3">
<h3><span class="header-section-number">1.2.8</span> Gapminder Data</h3>
<p><a href="https://www.gapminder.org">https://www.gapminder.org</a> is an organization that collects some really interesting worldwide data. They also make cool visualization tools for looking at the data. There are many neat examples, and they have visualization tools built right into their website that you can play around with <a href="https://www.gapminder.org/tools/">https://www.gapminder.org/tools/</a>. That’s fun check it out.</p>
<p>There is also an R package called <code>gapminder</code>. When you install this package, it loads in some of the data from gapminder, so we can play with it in R.</p>
<p>If you don’t have the gapminder package installed, you can install it by running this code</p>
<p>Once the package is installed, you need to load the new library, like this. Then, you can put the <code>gapminder</code> data into a data frame, like we do here: <code>gapminder_df</code>.</p>
<div id="look-at-the-data-frame" class="section level4">
<h4><span class="header-section-number">1.2.8.1</span> Look at the data frame</h4>
<p>You can look at the data frame to see what is in it, and you can use <code>summarytools</code> again to view a summary of the data.</p>
<p>There are 1704 rows of data, and we see some columns for country, continent, year, life expectancy, population, and GDP per capita.</p>
</div>
</div>
<div id="asking-questions-with-the-gap-minder-data" class="section level3">
<h3><span class="header-section-number">1.2.9</span> Asking Questions with the gap minder data</h3>
<p>We will show you how to graph some the data to answer a few different kinds of questions. Then you will form your own questions, and see if you can answer them with ggplot2 yourself. All you will need to do is copy and paste the following examples, and change them up a little bit</p>
<div id="life-expectancy-histogram" class="section level4">
<h4><span class="header-section-number">1.2.9.1</span> Life Expectancy histogram</h4>
<p>How long are people living all around the world according to this data set? There are many ways we could plot the data to find out. The first way is a histogram. We have many numbers for life expectancy in the column <code>lifeExp</code>. This is a big sample, full of numbers for 142 countries across many years. It’s easy to make a histogram in ggplot to view the distribution:</p>
<p><img src="quantrma_ex_files/figure-html/1gapminder-1.png" width="672" /></p>
<p>See, that was easy. Next, is a code block that adds more layers and settings if you wanted to modify parts of the graph:</p>
<p><img src="quantrma_ex_files/figure-html/1gapminderB-1.png" width="672" /></p>
<p>The histogram shows a wide range of life expectancies, from below 40 to just over 80. Histograms are useful, they can show you what kinds of values happen more often than others.</p>
<p>One final thing about histograms in ggplot. You may want to change the bin size. That controls how wide or narrow, or the number of bars (how they split across the range), in the histogram. You need to set the <code>bins=</code> option in <code>geom_histogram()</code>.</p>
<p><img src="quantrma_ex_files/figure-html/1gapminderC-1.png" width="672" /></p>
<p>See, same basic patter, but now breaking up the range into 50 little equal sized bins, rather than 30, which is the default. You get to choose what you want to do.</p>
</div>
<div id="life-expectancy-by-year-scatterplot" class="section level4">
<h4><span class="header-section-number">1.2.9.2</span> Life Expectancy by year Scatterplot</h4>
<p>We can see we have data for life expectancy and different years. So, does worldwide life expectancy change across the years in the data set? As we go into the future, are people living longer?</p>
<p>Let’s look at this using a scatter plot. We can set the x-axis to be year, and the y-axis to be life expectancy. Then we can use <code>geom_point()</code> to display a whole bunch of dots, and then look at them. Here’s the simple code:</p>
<p><img src="quantrma_ex_files/figure-html/1scatterplot-1.png" width="672" /></p>
<p>Whoa, that’s a lot of dots! Remember that each country is measured each year. So, the bands of dots you see, show the life expectancies for the whole range of countries within each year of the database. There is a big spread inside each year. But, on the whole it looks like groups of dots slowly go up over years.</p>
</div>
<div id="one-country-life-expectancy-by-year" class="section level4">
<h4><span class="header-section-number">1.2.9.3</span> One country, life expectancy by year</h4>
<p>I’m (Matt) from Canada, so maybe I want to know if life expectancy for Canadians is going up over the years. To find out the answer for one country, we first need to split the full data set, into another smaller data set that only contains data for Canada. In other words, we want only the rows where the word “Canada” is found in the <code>country</code> column. We will use the <code>filter</code> function from <code>dplyr</code> for this:</p>
<p><img src="quantrma_ex_files/figure-html/1scatterB-1.png" width="672" /></p>
<p>I would say things are looking good for Canadians, their life expectancy is going up over the years!</p>
</div>
<div id="multiple-countries-scatterplot" class="section level4">
<h4><span class="header-section-number">1.2.9.4</span> Multiple countries scatterplot</h4>
<p>What if we want to look at a few countries altogether. We can do this too. We just change how we filter the data so more than one country is allowed, then we plot the data. We will also add some nicer color options and make the plot look pretty. First, the simple code:</p>
<p><img src="quantrma_ex_files/figure-html/1scatterC-1.png" width="672" /></p>
<p>Nice, we can now see three sets of dots, but which are countries do they represent? Let’s add a legend, and make the graph better looking.</p>
<p><img src="quantrma_ex_files/figure-html/1scatterD-1.png" width="672" /></p>
</div>
<div id="geom_line-connecting-the-dots" class="section level4">
<h4><span class="header-section-number">1.2.9.5</span> geom_line() connecting the dots</h4>
<p>We might also want to connect the dots with a line, to make it easier to see the connection! Remember, ggplot2 draws layers on top of layers. So, we add in a new <code>geom_line()</code> layer.</p>
<p><img src="quantrma_ex_files/figure-html/1scatline-1.png" width="672" /></p>
</div>
</div>
<div id="generalization-exercise" class="section level3">
<h3><span class="header-section-number">1.2.10</span> Generalization Exercise</h3>
<p>The following generalization exercise and writing assignment is also in your lab R Markdown document for this lab. Complete your work in that document and hand it in.</p>
<p>(1 point - Pass/Fail)</p>
<p>Use the code from above to attempt to solve the extra things we ask you do for this assignment. You generalization exercises are as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Make a graph plotting Life Expectancy by year for the five continents, using the <code>continent</code> factor. Make sure you change the title so it reads correctly</p></li>
<li><p>Make a graph plotting GDP per capita by year for the USA, Canada, and Mexico. Use the <code>gdpPercap</code> column for the GDP per capita data</p></li>
<li><p>Make a new graph plotting anything you are interested in using the gapminder dataset. It just needs to be a plot that we have not given an example for</p></li>
</ol>
</div>
<div id="writing-assignment" class="section level3">
<h3><span class="header-section-number">1.2.11</span> Writing assignment</h3>
<p>Complete the writing assignment described in your R Markdown document for this lab. When you have finished everything. Knit the document and hand in your stuff (you can submit your .RMD file to blackboard if it does not knit.)</p>
<p>The question for this lab is a long answer question about histograms. Here is the question:</p>
<p>Describe what histograms are, how to interpret them, and what they are useful for. You should answer each of these questions:</p>
<p>The answers to each of these questions are worth .25 points each, for a total of 2 points</p>
<ol style="list-style-type: lower-alpha">
<li>What do the bars on a histogram represent?</li>
<li>How many bars can a histogram have?</li>
<li>What do the heights of the bars tell you</li>
<li>What is on the x-axis and y-axis of a histogram</li>
<li>What does the tallest bar on a histogram tell you?</li>
<li>What does the shortest bar on a histogram tell you?</li>
<li>What are some uses for histograms, why would you want to look at a histogram of some numbers that you collected?</li>
<li>Imagine you had two histograms, one was very wide and spread out, the other was very narrow with a very tall peak. Which histogram would you expect to contain more consistent numbers (numbers that are close to each other), explain why.</li>
</ol>
<p><strong>Rubric</strong></p>
<p>General grading.</p>
<ul>
<li>You will receive 0 points for missing answers (say, if you do not answer question c, then you will receive 0 out .25 points for that question)</li>
<li>You must write in complete sentences. Point form sentences will be given 0 points.</li>
<li>Completely incorrect answers will receive 0 points. For example, if you incorrectly describe what the x and y-axes refer to, then you will receive 0 points for that question.</li>
<li>If your answer is generally correct but very difficult to understand and unclear you may receive half points for the question</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week-2-describing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["quantrma_ex.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
